<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>T_T (Tipsy_Tonight)</title>
  <!-- <link rel="stylesheet" href="css/normalize.css"> -->

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap" rel="stylesheet">  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/index.css"> 


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=ADLaM+Display&family=Forum&family=Nunito&display=swap" rel="stylesheet">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>



</head>

<body>
<!--Introduction Page-->
    <div class ="intro">
      <!--want an h1 and img tag...you can style font etc in the css -->
      <!--img src="gif.gif" alt="House Music" style="width:100%;"-->
      <div class="intro-text">T(ipsy)_T(onight)</div>
      <div class="intro-subtitle">Glimpse into World's BEST Bars in 2022/2023 <br>x<br>
        Ann Zhang // Sep 2023
      </div>
    </div>

<!--Introduction 2: Data-->


<!--Page 2 -->
  
    <div class ="page2">
      <!--want an h1 and img tag...you can style font etc in the css -->
      <!--img src="gif.gif" alt="House Music" style="width:100%;"-->
      <div class="page2-title">'Top 50 Bars': History, Criteria, and Winners</div>
      <img class="logoimg1" src="img/World_50_Logo.jpg" width="600"> 
      <img class="logoimg2" src="img/Asia_50_Logo.jpg" width="600">
    
      <div class="page2-body"> The Top 50 bars and restaurants started in xxxx. </div>
    </div>

<!--Page 3 -->    
<div class ="data-page">
  <!--want an h1 and img tag...you can style font etc in the css -->
  <!--img src="gif.gif" alt="House Music" style="width:100%;"-->
  <div class="page2-title">Visualizing Previous Winners</div>
  <div class="data-subtitle">Data: World's (2017-2022) and Asia's Top 50 Bars by Cities (2017-2023) </div>
  <div class="data" id="vis"></div>
<script type="text/javascript">
  var vega_spec = {
"$schema": "https://vega.github.io/schema/vega/v5.json",
"padding": 30,
"height": 400,
"width":400,
"data": [
{"name": "param_149_store"},
{"name": "param_150_store"},
{"name": "param_151_store"},
{"name": "param_146_store"},
{"name": "param_147_store"},
{"name": "param_148_store"},
{
"name": "data-843d5c83a581ea3d063fc478fb048ff6",
"values": [
  {"City": "Amsterdam", "Year": 2022, "Count": 0},
  {"City": "Athens", "Year": 2022, "Count": 3},
  {"City": "Bangkok", "Year": 2022, "Count": 2},
  {"City": "Barcelona", "Year": 2022, "Count": 3},
  {"City": "Beirut", "Year": 2022, "Count": 0},
  {"City": "Beirut ", "Year": 2022, "Count": 0},
  {"City": "Berlin", "Year": 2022, "Count": 0},
  {"City": "Buenos Aires", "Year": 2022, "Count": 3},
  {"City": "Cartagena", "Year": 2022, "Count": 1},
  {"City": "Chicago", "Year": 2022, "Count": 1},
  {"City": "Dubai", "Year": 2022, "Count": 3},
  {"City": "Edinburgh", "Year": 2022, "Count": 0},
  {"City": "Florence", "Year": 2022, "Count": 1},
  {"City": "Hong Kong", "Year": 2022, "Count": 2},
  {"City": "Kuala Lumpur", "Year": 2022, "Count": 0},
  {"City": "Lima", "Year": 2022, "Count": 1},
  {"City": "Lisbon", "Year": 2022, "Count": 1},
  {"City": "London", "Year": 2022, "Count": 5},
  {"City": "Madrid", "Year": 2022, "Count": 1},
  {"City": "Melbourne", "Year": 2022, "Count": 0},
  {"City": "Mexico City", "Year": 2022, "Count": 4},
  {"City": "Miami", "Year": 2022, "Count": 1},
  {"City": "Milan", "Year": 2022, "Count": 1},
  {"City": "Moscow", "Year": 2022, "Count": 0},
  {"City": "Munich", "Year": 2022, "Count": 0},
  {"City": "Naples", "Year": 2022, "Count": 1},
  {"City": "New Delhi", "Year": 2022, "Count": 1},
  {"City": "New York", "Year": 2022, "Count": 6},
  {"City": "Nicosia", "Year": 2022, "Count": 0},
  {"City": "Oslo", "Year": 2022, "Count": 1},
  {"City": "Paris", "Year": 2022, "Count": 1},
  {"City": "Rome", "Year": 2022, "Count": 1},
  {"City": "San Francisco", "Year": 2022, "Count": 0},
  {"City": "San Juan", "Year": 2022, "Count": 0},
  {"City": "Sao Paulo", "Year": 2022, "Count": 0},
  {"City": "Seoul", "Year": 2022, "Count": 0},
  {"City": "Shanghai", "Year": 2022, "Count": 0},
  {"City": "Singapore", "Year": 2022, "Count": 2},
  {"City": "St Petersburg", "Year": 2022, "Count": 0},
  {"City": "Stockholm", "Year": 2022, "Count": 1},
  {"City": "Sydney", "Year": 2022, "Count": 2},
  {"City": "taipei", "Year": 2022, "Count": 0},
  {"City": "Taipei", "Year": 2022, "Count": 0},
  {"City": "Tel Aviv", "Year": 2022, "Count": 0},
  {"City": "Tokyo", "Year": 2022, "Count": 1},
  {"City": "Amsterdam", "Year": 2021, "Count": 0},
  {"City": "Athens", "Year": 2021, "Count": 2},
  {"City": "Bangkok", "Year": 2021, "Count": 0},
  {"City": "Barcelona", "Year": 2021, "Count": 3},
  {"City": "Beirut", "Year": 2021, "Count": 0},
  {"City": "Beirut ", "Year": 2021, "Count": 0},
  {"City": "Berlin", "Year": 2021, "Count": 0},
  {"City": "Buenos Aires", "Year": 2021, "Count": 3},
  {"City": "Cartagena", "Year": 2021, "Count": 0},
  {"City": "Chicago", "Year": 2021, "Count": 0},
  {"City": "Dubai", "Year": 2021, "Count": 2},
  {"City": "Edinburgh", "Year": 2021, "Count": 0},
  {"City": "Florence", "Year": 2021, "Count": 0},
  {"City": "Hong Kong", "Year": 2021, "Count": 3},
  {"City": "Kuala Lumpur", "Year": 2021, "Count": 0},
  {"City": "Lima", "Year": 2021, "Count": 0},
  {"City": "Lisbon", "Year": 2021, "Count": 0},
  {"City": "London", "Year": 2021, "Count": 3},
  {"City": "Madrid", "Year": 2021, "Count": 1},
  {"City": "Melbourne", "Year": 2021, "Count": 1},
  {"City": "Mexico City", "Year": 2021, "Count": 4},
  {"City": "Miami", "Year": 2021, "Count": 1},
  {"City": "Milan", "Year": 2021, "Count": 2},
  {"City": "Moscow", "Year": 2021, "Count": 1},
  {"City": "Munich", "Year": 2021, "Count": 0},
  {"City": "Naples", "Year": 2021, "Count": 0},
  {"City": "New Delhi", "Year": 2021, "Count": 1},
  {"City": "New York", "Year": 2021, "Count": 3},
  {"City": "Nicosia", "Year": 2021, "Count": 0},
  {"City": "Oslo", "Year": 2021, "Count": 0},
  {"City": "Paris", "Year": 2021, "Count": 1},
  {"City": "Rome", "Year": 2021, "Count": 1},
  {"City": "San Francisco", "Year": 2021, "Count": 0},
  {"City": "San Juan", "Year": 2021, "Count": 0},
  {"City": "Sao Paulo", "Year": 2021, "Count": 0},
  {"City": "Seoul", "Year": 2021, "Count": 1},
  {"City": "Shanghai", "Year": 2021, "Count": 3},
  {"City": "Singapore", "Year": 2021, "Count": 6},
  {"City": "St Petersburg", "Year": 2021, "Count": 1},
  {"City": "Stockholm", "Year": 2021, "Count": 2},
  {"City": "Sydney", "Year": 2021, "Count": 3},
  {"City": "taipei", "Year": 2021, "Count": 0},
  {"City": "Taipei", "Year": 2021, "Count": 0},
  {"City": "Tel Aviv", "Year": 2021, "Count": 0},
  {"City": "Tokyo", "Year": 2021, "Count": 2},
  {"City": "Amsterdam", "Year": 2020, "Count": 0},
  {"City": "Athens", "Year": 2020, "Count": 2},
  {"City": "Bangkok", "Year": 2020, "Count": 1},
  {"City": "Barcelona", "Year": 2020, "Count": 2},
  {"City": "Beirut", "Year": 2020, "Count": 0},
  {"City": "Beirut ", "Year": 2020, "Count": 0},
  {"City": "Berlin", "Year": 2020, "Count": 1},
  {"City": "Buenos Aires", "Year": 2020, "Count": 2},
  {"City": "Cartagena", "Year": 2020, "Count": 1},
  {"City": "Chicago", "Year": 2020, "Count": 0},
  {"City": "Dubai", "Year": 2020, "Count": 1},
  {"City": "Edinburgh", "Year": 2020, "Count": 1},
  {"City": "Florence", "Year": 2020, "Count": 0},
  {"City": "Hong Kong", "Year": 2020, "Count": 2},
  {"City": "Kuala Lumpur", "Year": 2020, "Count": 1},
  {"City": "Lima", "Year": 2020, "Count": 1},
  {"City": "Lisbon", "Year": 2020, "Count": 0},
  {"City": "London", "Year": 2020, "Count": 8},
  {"City": "Madrid", "Year": 2020, "Count": 1},
  {"City": "Melbourne", "Year": 2020, "Count": 0},
  {"City": "Mexico City", "Year": 2020, "Count": 1},
  {"City": "Miami", "Year": 2020, "Count": 0},
  {"City": "Milan", "Year": 2020, "Count": 1},
  {"City": "Moscow", "Year": 2020, "Count": 0},
  {"City": "Munich", "Year": 2020, "Count": 0},
  {"City": "Naples", "Year": 2020, "Count": 0},
  {"City": "New Delhi", "Year": 2020, "Count": 0},
  {"City": "New York", "Year": 2020, "Count": 5},
  {"City": "Nicosia", "Year": 2020, "Count": 0},
  {"City": "Oslo", "Year": 2020, "Count": 1},
  {"City": "Paris", "Year": 2020, "Count": 1},
  {"City": "Rome", "Year": 2020, "Count": 1},
  {"City": "San Francisco", "Year": 2020, "Count": 0},
  {"City": "San Juan", "Year": 2020, "Count": 0},
  {"City": "Sao Paulo", "Year": 2020, "Count": 0},
  {"City": "Seoul", "Year": 2020, "Count": 1},
  {"City": "Shanghai", "Year": 2020, "Count": 1},
  {"City": "Singapore", "Year": 2020, "Count": 4},
  {"City": "St Petersburg", "Year": 2020, "Count": 1},
  {"City": "Stockholm", "Year": 2020, "Count": 1},
  {"City": "Sydney", "Year": 2020, "Count": 3},
  {"City": "taipei", "Year": 2020, "Count": 1},
  {"City": "Taipei", "Year": 2020, "Count": 1},
  {"City": "Tel Aviv", "Year": 2020, "Count": 0},
  {"City": "Tokyo", "Year": 2020, "Count": 3},
  {"City": "Amsterdam", "Year": 2019, "Count": 0},
  {"City": "Athens", "Year": 2019, "Count": 2},
  {"City": "Bangkok", "Year": 2019, "Count": 0},
  {"City": "Barcelona", "Year": 2019, "Count": 2},
  {"City": "Beirut", "Year": 2019, "Count": 0},
  {"City": "Beirut ", "Year": 2019, "Count": 1},
  {"City": "Berlin", "Year": 2019, "Count": 0},
  {"City": "Buenos Aires", "Year": 2019, "Count": 2},
  {"City": "Cartagena", "Year": 2019, "Count": 0},
  {"City": "Chicago", "Year": 2019, "Count": 0},
  {"City": "Dubai", "Year": 2019, "Count": 0},
  {"City": "Edinburgh", "Year": 2019, "Count": 0},
  {"City": "Florence", "Year": 2019, "Count": 0},
  {"City": "Hong Kong", "Year": 2019, "Count": 2},
  {"City": "Kuala Lumpur", "Year": 2019, "Count": 0},
  {"City": "Lima", "Year": 2019, "Count": 1},
  {"City": "Lisbon", "Year": 2019, "Count": 0},
  {"City": "London", "Year": 2019, "Count": 10},
  {"City": "Madrid", "Year": 2019, "Count": 1},
  {"City": "Melbourne", "Year": 2019, "Count": 0},
  {"City": "Mexico City", "Year": 2019, "Count": 1},
  {"City": "Miami", "Year": 2019, "Count": 0},
  {"City": "Milan", "Year": 2019, "Count": 1},
  {"City": "Moscow", "Year": 2019, "Count": 0},
  {"City": "Munich", "Year": 2019, "Count": 1},
  {"City": "Naples", "Year": 2019, "Count": 0},
  {"City": "New Delhi", "Year": 2019, "Count": 0},
  {"City": "New York", "Year": 2019, "Count": 6},
  {"City": "Nicosia", "Year": 2019, "Count": 0},
  {"City": "Oslo", "Year": 2019, "Count": 1},
  {"City": "Paris", "Year": 2019, "Count": 1},
  {"City": "Rome", "Year": 2019, "Count": 1},
  {"City": "San Francisco", "Year": 2019, "Count": 1},
  {"City": "San Juan", "Year": 2019, "Count": 1},
  {"City": "Sao Paulo", "Year": 2019, "Count": 1},
  {"City": "Seoul", "Year": 2019, "Count": 0},
  {"City": "Shanghai", "Year": 2019, "Count": 2},
  {"City": "Singapore", "Year": 2019, "Count": 6},
  {"City": "St Petersburg", "Year": 2019, "Count": 1},
  {"City": "Stockholm", "Year": 2019, "Count": 1},
  {"City": "Sydney", "Year": 2019, "Count": 1},
  {"City": "taipei", "Year": 2019, "Count": 0},
  {"City": "Taipei", "Year": 2019, "Count": 1},
  {"City": "Tel Aviv", "Year": 2019, "Count": 0},
  {"City": "Tokyo", "Year": 2019, "Count": 2},
  {"City": "Amsterdam", "Year": 2018, "Count": 1},
  {"City": "Athens", "Year": 2018, "Count": 2},
  {"City": "Bangkok", "Year": 2018, "Count": 0},
  {"City": "Barcelona", "Year": 2018, "Count": 1},
  {"City": "Beirut", "Year": 2018, "Count": 1},
  {"City": "Beirut ", "Year": 2018, "Count": 0},
  {"City": "Berlin", "Year": 2018, "Count": 1},
  {"City": "Buenos Aires", "Year": 2018, "Count": 1},
  {"City": "Cartagena", "Year": 2018, "Count": 0},
  {"City": "Chicago", "Year": 2018, "Count": 1},
  {"City": "Dubai", "Year": 2018, "Count": 0},
  {"City": "Edinburgh", "Year": 2018, "Count": 0},
  {"City": "Florence", "Year": 2018, "Count": 0},
  {"City": "Hong Kong", "Year": 2018, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2018, "Count": 0},
  {"City": "Lima", "Year": 2018, "Count": 0},
  {"City": "Lisbon", "Year": 2018, "Count": 0},
  {"City": "London", "Year": 2018, "Count": 10},
  {"City": "Madrid", "Year": 2018, "Count": 1},
  {"City": "Melbourne", "Year": 2018, "Count": 1},
  {"City": "Mexico City", "Year": 2018, "Count": 2},
  {"City": "Miami", "Year": 2018, "Count": 1},
  {"City": "Milan", "Year": 2018, "Count": 0},
  {"City": "Moscow", "Year": 2018, "Count": 0},
  {"City": "Munich", "Year": 2018, "Count": 1},
  {"City": "Naples", "Year": 2018, "Count": 0},
  {"City": "New Delhi", "Year": 2018, "Count": 0},
  {"City": "New York", "Year": 2018, "Count": 6},
  {"City": "Nicosia", "Year": 2018, "Count": 1},
  {"City": "Oslo", "Year": 2018, "Count": 1},
  {"City": "Paris", "Year": 2018, "Count": 3},
  {"City": "Rome", "Year": 2018, "Count": 0},
  {"City": "San Francisco", "Year": 2018, "Count": 2},
  {"City": "San Juan", "Year": 2018, "Count": 1},
  {"City": "Sao Paulo", "Year": 2018, "Count": 0},
  {"City": "Seoul", "Year": 2018, "Count": 0},
  {"City": "Shanghai", "Year": 2018, "Count": 1},
  {"City": "Singapore", "Year": 2018, "Count": 5},
  {"City": "St Petersburg", "Year": 2018, "Count": 1},
  {"City": "Stockholm", "Year": 2018, "Count": 1},
  {"City": "Sydney", "Year": 2018, "Count": 0},
  {"City": "taipei", "Year": 2018, "Count": 0},
  {"City": "Taipei", "Year": 2018, "Count": 1},
  {"City": "Tel Aviv", "Year": 2018, "Count": 0},
  {"City": "Tokyo", "Year": 2018, "Count": 2},
  {"City": "Amsterdam", "Year": 2017, "Count": 1},
  {"City": "Athens", "Year": 2017, "Count": 2},
  {"City": "Bangkok", "Year": 2017, "Count": 0},
  {"City": "Barcelona", "Year": 2017, "Count": 0},
  {"City": "Beirut", "Year": 2017, "Count": 0},
  {"City": "Beirut ", "Year": 2017, "Count": 0},
  {"City": "Berlin", "Year": 2017, "Count": 0},
  {"City": "Buenos Aires", "Year": 2017, "Count": 1},
  {"City": "Cartagena", "Year": 2017, "Count": 0},
  {"City": "Chicago", "Year": 2017, "Count": 1},
  {"City": "Dubai", "Year": 2017, "Count": 0},
  {"City": "Edinburgh", "Year": 2017, "Count": 0},
  {"City": "Florence", "Year": 2017, "Count": 0},
  {"City": "Hong Kong", "Year": 2017, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2017, "Count": 0},
  {"City": "Lima", "Year": 2017, "Count": 0},
  {"City": "Lisbon", "Year": 2017, "Count": 0},
  {"City": "London", "Year": 2017, "Count": 8},
  {"City": "Madrid", "Year": 2017, "Count": 0},
  {"City": "Melbourne", "Year": 2017, "Count": 1},
  {"City": "Mexico City", "Year": 2017, "Count": 1},
  {"City": "Miami", "Year": 2017, "Count": 2},
  {"City": "Milan", "Year": 2017, "Count": 0},
  {"City": "Moscow", "Year": 2017, "Count": 0},
  {"City": "Munich", "Year": 2017, "Count": 1},
  {"City": "Naples", "Year": 2017, "Count": 0},
  {"City": "New Delhi", "Year": 2017, "Count": 0},
  {"City": "New York", "Year": 2017, "Count": 7},
  {"City": "Nicosia", "Year": 2017, "Count": 1},
  {"City": "Oslo", "Year": 2017, "Count": 1},
  {"City": "Paris", "Year": 2017, "Count": 3},
  {"City": "Rome", "Year": 2017, "Count": 1},
  {"City": "San Francisco", "Year": 2017, "Count": 3},
  {"City": "San Juan", "Year": 2017, "Count": 1},
  {"City": "Sao Paulo", "Year": 2017, "Count": 0},
  {"City": "Seoul", "Year": 2017, "Count": 0},
  {"City": "Shanghai", "Year": 2017, "Count": 1},
  {"City": "Singapore", "Year": 2017, "Count": 6},
  {"City": "St Petersburg", "Year": 2017, "Count": 0},
  {"City": "Stockholm", "Year": 2017, "Count": 1},
  {"City": "Sydney", "Year": 2017, "Count": 1},
  {"City": "taipei", "Year": 2017, "Count": 0},
  {"City": "Taipei", "Year": 2017, "Count": 1},
  {"City": "Tel Aviv", "Year": 2017, "Count": 1},
  {"City": "Tokyo", "Year": 2017, "Count": 2}
]
},
{
"name": "data-35de061fef48e48659c9e80aa9373f3b",
"values": [
  {"City": "Bali", "Year": 2023, "Count": 0},
  {"City": "Bangkok", "Year": 2023, "Count": 4},
  {"City": "Beijing", "Year": 2023, "Count": 0},
  {"City": "Bengaluru", "Year": 2023, "Count": 1},
  {"City": "Colva", "Year": 2023, "Count": 0},
  {"City": "Guangzhou", "Year": 2023, "Count": 1},
  {"City": "Hiriketiya", "Year": 2023, "Count": 1},
  {"City": "Hong Kong", "Year": 2023, "Count": 8},
  {"City": "Jakarta", "Year": 2023, "Count": 2},
  {"City": "Kuala Lumpur", "Year": 2023, "Count": 2},
  {"City": "Kyoto", "Year": 2023, "Count": 1},
  {"City": "Macau", "Year": 2023, "Count": 0},
  {"City": "Makati City", "Year": 2023, "Count": 0},
  {"City": "Manila", "Year": 2023, "Count": 1},
  {"City": "Mumbai", "Year": 2023, "Count": 2},
  {"City": "Nara", "Year": 2023, "Count": 1},
  {"City": "New Delhi", "Year": 2023, "Count": 1},
  {"City": "Seoul", "Year": 2023, "Count": 6},
  {"City": "Shanghai", "Year": 2023, "Count": 0},
  {"City": "Singapore", "Year": 2023, "Count": 11},
  {"City": "Taichung", "Year": 2023, "Count": 1},
  {"City": "Tainan", "Year": 2023, "Count": 0},
  {"City": "Taipei", "Year": 2023, "Count": 2},
  {"City": "Tokyo", "Year": 2023, "Count": 5},
  {"City": "Bali", "Year": 2022, "Count": 0},
  {"City": "Bangkok", "Year": 2022, "Count": 5},
  {"City": "Beijing", "Year": 2022, "Count": 0},
  {"City": "Bengaluru", "Year": 2022, "Count": 1},
  {"City": "Colva", "Year": 2022, "Count": 1},
  {"City": "Guangzhou", "Year": 2022, "Count": 1},
  {"City": "Hiriketiya", "Year": 2022, "Count": 1},
  {"City": "Hong Kong", "Year": 2022, "Count": 8},
  {"City": "Jakarta", "Year": 2022, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2022, "Count": 2},
  {"City": "Kyoto", "Year": 2022, "Count": 1},
  {"City": "Macau", "Year": 2022, "Count": 0},
  {"City": "Makati City", "Year": 2022, "Count": 0},
  {"City": "Manila", "Year": 2022, "Count": 0},
  {"City": "Mumbai", "Year": 2022, "Count": 0},
  {"City": "Nara", "Year": 2022, "Count": 1},
  {"City": "New Delhi", "Year": 2022, "Count": 3},
  {"City": "Seoul", "Year": 2022, "Count": 5},
  {"City": "Shanghai", "Year": 2022, "Count": 3},
  {"City": "Singapore", "Year": 2022, "Count": 11},
  {"City": "Taichung", "Year": 2022, "Count": 0},
  {"City": "Tainan", "Year": 2022, "Count": 0},
  {"City": "Taipei", "Year": 2022, "Count": 2},
  {"City": "Tokyo", "Year": 2022, "Count": 4},
  {"City": "Bali", "Year": 2021, "Count": 0},
  {"City": "Bangkok", "Year": 2021, "Count": 5},
  {"City": "Beijing", "Year": 2021, "Count": 0},
  {"City": "Bengaluru", "Year": 2021, "Count": 0},
  {"City": "Colva", "Year": 2021, "Count": 0},
  {"City": "Guangzhou", "Year": 2021, "Count": 1},
  {"City": "Hiriketiya", "Year": 2021, "Count": 0},
  {"City": "Hong Kong", "Year": 2021, "Count": 9},
  {"City": "Jakarta", "Year": 2021, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2021, "Count": 3},
  {"City": "Kyoto", "Year": 2021, "Count": 1},
  {"City": "Macau", "Year": 2021, "Count": 0},
  {"City": "Makati City", "Year": 2021, "Count": 0},
  {"City": "Manila", "Year": 2021, "Count": 1},
  {"City": "Mumbai", "Year": 2021, "Count": 0},
  {"City": "Nara", "Year": 2021, "Count": 0},
  {"City": "New Delhi", "Year": 2021, "Count": 1},
  {"City": "Seoul", "Year": 2021, "Count": 4},
  {"City": "Shanghai", "Year": 2021, "Count": 3},
  {"City": "Singapore", "Year": 2021, "Count": 12},
  {"City": "Taichung", "Year": 2021, "Count": 0},
  {"City": "Tainan", "Year": 2021, "Count": 0},
  {"City": "Taipei", "Year": 2021, "Count": 4},
  {"City": "Tokyo", "Year": 2021, "Count": 5},
  {"City": "Bali", "Year": 2020, "Count": 0},
  {"City": "Bangkok", "Year": 2020, "Count": 5},
  {"City": "Beijing", "Year": 2020, "Count": 0},
  {"City": "Bengaluru", "Year": 2020, "Count": 0},
  {"City": "Colva", "Year": 2020, "Count": 0},
  {"City": "Guangzhou", "Year": 2020, "Count": 1},
  {"City": "Hiriketiya", "Year": 2020, "Count": 0},
  {"City": "Hong Kong", "Year": 2020, "Count": 8},
  {"City": "Jakarta", "Year": 2020, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2020, "Count": 3},
  {"City": "Kyoto", "Year": 2020, "Count": 1},
  {"City": "Macau", "Year": 2020, "Count": 0},
  {"City": "Makati City", "Year": 2020, "Count": 0},
  {"City": "Manila", "Year": 2020, "Count": 2},
  {"City": "Mumbai", "Year": 2020, "Count": 0},
  {"City": "Nara", "Year": 2020, "Count": 0},
  {"City": "New Delhi", "Year": 2020, "Count": 1},
  {"City": "Seoul", "Year": 2020, "Count": 4},
  {"City": "Shanghai", "Year": 2020, "Count": 3},
  {"City": "Singapore", "Year": 2020, "Count": 11},
  {"City": "Taichung", "Year": 2020, "Count": 0},
  {"City": "Tainan", "Year": 2020, "Count": 0},
  {"City": "Taipei", "Year": 2020, "Count": 5},
  {"City": "Tokyo", "Year": 2020, "Count": 5},
  {"City": "Bali", "Year": 2019, "Count": 0},
  {"City": "Bangkok", "Year": 2019, "Count": 7},
  {"City": "Beijing", "Year": 2019, "Count": 0},
  {"City": "Bengaluru", "Year": 2019, "Count": 0},
  {"City": "Colva", "Year": 2019, "Count": 0},
  {"City": "Guangzhou", "Year": 2019, "Count": 1},
  {"City": "Hiriketiya", "Year": 2019, "Count": 0},
  {"City": "Hong Kong", "Year": 2019, "Count": 8},
  {"City": "Jakarta", "Year": 2019, "Count": 1},
  {"City": "Kuala Lumpur", "Year": 2019, "Count": 3},
  {"City": "Kyoto", "Year": 2019, "Count": 0},
  {"City": "Macau", "Year": 2019, "Count": 0},
  {"City": "Makati City", "Year": 2019, "Count": 0},
  {"City": "Manila", "Year": 2019, "Count": 3},
  {"City": "Mumbai", "Year": 2019, "Count": 0},
  {"City": "Nara", "Year": 2019, "Count": 0},
  {"City": "New Delhi", "Year": 2019, "Count": 0},
  {"City": "Seoul", "Year": 2019, "Count": 3},
  {"City": "Shanghai", "Year": 2019, "Count": 3},
  {"City": "Singapore", "Year": 2019, "Count": 11},
  {"City": "Taichung", "Year": 2019, "Count": 0},
  {"City": "Tainan", "Year": 2019, "Count": 0},
  {"City": "Taipei", "Year": 2019, "Count": 4},
  {"City": "Tokyo", "Year": 2019, "Count": 6},
  {"City": "Bali", "Year": 2018, "Count": 1},
  {"City": "Bangkok", "Year": 2018, "Count": 6},
  {"City": "Beijing", "Year": 2018, "Count": 1},
  {"City": "Bengaluru", "Year": 2018, "Count": 0},
  {"City": "Colva", "Year": 2018, "Count": 0},
  {"City": "Guangzhou", "Year": 2018, "Count": 0},
  {"City": "Hiriketiya", "Year": 2018, "Count": 0},
  {"City": "Hong Kong", "Year": 2018, "Count": 7},
  {"City": "Jakarta", "Year": 2018, "Count": 2},
  {"City": "Kuala Lumpur", "Year": 2018, "Count": 2},
  {"City": "Kyoto", "Year": 2018, "Count": 0},
  {"City": "Macau", "Year": 2018, "Count": 1},
  {"City": "Makati City", "Year": 2018, "Count": 0},
  {"City": "Manila", "Year": 2018, "Count": 1},
  {"City": "Mumbai", "Year": 2018, "Count": 0},
  {"City": "Nara", "Year": 2018, "Count": 1},
  {"City": "New Delhi", "Year": 2018, "Count": 0},
  {"City": "Seoul", "Year": 2018, "Count": 4},
  {"City": "Shanghai", "Year": 2018, "Count": 3},
  {"City": "Singapore", "Year": 2018, "Count": 12},
  {"City": "Taichung", "Year": 2018, "Count": 0},
  {"City": "Tainan", "Year": 2018, "Count": 1},
  {"City": "Taipei", "Year": 2018, "Count": 1},
  {"City": "Tokyo", "Year": 2018, "Count": 7},
  {"City": "Bali", "Year": 2017, "Count": 2},
  {"City": "Bangkok", "Year": 2017, "Count": 5},
  {"City": "Beijing", "Year": 2017, "Count": 1},
  {"City": "Bengaluru", "Year": 2017, "Count": 0},
  {"City": "Colva", "Year": 2017, "Count": 0},
  {"City": "Guangzhou", "Year": 2017, "Count": 0},
  {"City": "Hiriketiya", "Year": 2017, "Count": 0},
  {"City": "Hong Kong", "Year": 2017, "Count": 8},
  {"City": "Jakarta", "Year": 2017, "Count": 0},
  {"City": "Kuala Lumpur", "Year": 2017, "Count": 1},
  {"City": "Kyoto", "Year": 2017, "Count": 0},
  {"City": "Macau", "Year": 2017, "Count": 0},
  {"City": "Makati City", "Year": 2017, "Count": 1},
  {"City": "Manila", "Year": 2017, "Count": 1},
  {"City": "Mumbai", "Year": 2017, "Count": 1},
  {"City": "Nara", "Year": 2017, "Count": 1},
  {"City": "New Delhi", "Year": 2017, "Count": 0},
  {"City": "Seoul", "Year": 2017, "Count": 5},
  {"City": "Shanghai", "Year": 2017, "Count": 3},
  {"City": "Singapore", "Year": 2017, "Count": 13},
  {"City": "Taichung", "Year": 2017, "Count": 0},
  {"City": "Tainan", "Year": 2017, "Count": 0},
  {"City": "Taipei", "Year": 2017, "Count": 3},
  {"City": "Tokyo", "Year": 2017, "Count": 5}
]
},
{
"name": "data_0",
"source": "data-843d5c83a581ea3d063fc478fb048ff6",
"transform": [
  {
    "type": "filter",
    "expr": "isValid(datum[\"Count\"]) && isFinite(+datum[\"Count\"])"
  }
]
},
{
"name": "data_1",
"source": "data-35de061fef48e48659c9e80aa9373f3b",
"transform": [
  {
    "type": "filter",
    "expr": "isValid(datum[\"Count\"]) && isFinite(+datum[\"Count\"])"
  }
]
}
],
"signals": [
{"name": "concat_0_childWidth", "value": 500},
{
"name": "param_146_City_legend",
"value": null,
"on": [
  {
    "events": [
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_symbols"
      },
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_labels"
      },
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_entries"
      }
    ],
    "update": "isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",
    "force": true
  },
  {
    "events": [{"source": "view", "type": "click"}],
    "update": "!event.item || !datum ? null : param_146_City_legend",
    "force": true
  }
]
},
{
"name": "unit",
"value": {},
"on": [
  {"events": "mousemove", "update": "isTuple(group()) ? group() : unit"}
]
},
{
"name": "param_149_City_legend",
"value": null,
"on": [
  {
    "events": [
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_symbols"
      },
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_labels"
      },
      {
        "source": "view",
        "type": "click",
        "markname": "City_legend_entries"
      }
    ],
    "update": "isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",
    "force": true
  },
  {
    "events": [{"source": "view", "type": "click"}],
    "update": "!event.item || !datum ? null : param_149_City_legend",
    "force": true
  }
]
},
{
"name": "param_149",
"update": "vlSelectionResolve(\"param_149_store\", \"union\", true, true)"
},
{"name": "param_150", "update": "{\"Count\": param_150_Count}"},
{"name": "param_150_Count"},
{"name": "param_151", "update": "{\"Count\": param_151_Count}"},
{"name": "param_151_Count"},
{
"name": "param_146",
"update": "vlSelectionResolve(\"param_146_store\", \"union\", true, true)"
},
{"name": "param_147", "update": "{\"Count\": param_147_Count}"},
{"name": "param_147_Count"},
{"name": "param_148", "update": "{\"Count\": param_148_Count}"},
{"name": "param_148_Count"}
],
"layout": {"padding": 20, "bounds": "full", "align": "each"},
"marks": [
{
"type": "group",
"name": "concat_0_group",
"layout": {"padding": 20, "bounds": "full", "align": "each"},
"marks": [
  {
    "type": "group",
    "name": "concat_0_concat_0_group",
    "title": {
      "text": "Number of World TOP 50 Bars in Cities",
      "frame": "group"
    },
    "style": "cell",
    "encode": {
      "update": {
        "width": {"signal": "concat_0_childWidth"},
        "height": {"signal": "height"}
      }
    },
    "signals": [
      {
        "name": "param_149_tuple",
        "update": "param_149_City_legend !== null ? {fields: param_149_tuple_fields, values: [param_149_City_legend]} : null"
      },
      {
        "name": "param_149_tuple_fields",
        "value": [{"type": "E", "field": "City"}]
      },
      {
        "name": "param_149_toggle",
        "value": false,
        "on": [
          {
            "events": {"merge": [{"source": "view", "type": "click"}]},
            "update": "event.shiftKey"
          }
        ]
      },
      {
        "name": "param_149_modify",
        "on": [
          {
            "events": {"signal": "param_149_tuple"},
            "update": "modify(\"param_149_store\", param_149_toggle ? null : param_149_tuple, param_149_toggle ? null : true, param_149_toggle ? param_149_tuple : null)"
          }
        ]
      },
      {
        "name": "param_150_Year",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_150_translate_delta"},
            "update": "panLinear(param_150_translate_anchor.extent_x, -param_150_translate_delta.x / concat_0_childWidth)"
          },
          {
            "events": {"signal": "param_150_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_0_x\"), param_150_zoom_anchor.x, param_150_zoom_delta)"
          }
        ]
      },
      {
        "name": "param_150_Count",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_150_translate_delta"},
            "update": "panLinear(param_150_translate_anchor.extent_y, param_150_translate_delta.y / height)"
          },
          {
            "events": {"signal": "param_150_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_0_y\"), param_150_zoom_anchor.y, param_150_zoom_delta)"
          }
        ],
        "push": "outer"
      },
      {
        "name": "param_150_tuple",
        "on": [
          {
            "events": [{"signal": "param_150_Year || param_150_Count"}],
            "update": "param_150_Year && param_150_Count ? {unit: \"view_102\", fields: param_150_tuple_fields, values: [param_150_Year,param_150_Count]} : null"
          }
        ]
      },
      {
        "name": "param_150_tuple_fields",
        "value": [
          {"field": "Year", "channel": "x", "type": "E"},
          {"field": "Count", "channel": "y", "type": "R"}
        ]
      },
      {
        "name": "param_150_translate_anchor",
        "value": {},
        "on": [
          {
            "events": [{"source": "scope", "type": "mousedown"}],
            "update": "{x: x(unit), y: y(unit), extent_x: domain(\"concat_0_concat_0_x\"), extent_y: domain(\"concat_0_concat_0_y\")}"
          }
        ]
      },
      {
        "name": "param_150_translate_delta",
        "value": {},
        "on": [
          {
            "events": [
              {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {"source": "scope", "type": "mousedown"},
                  {"source": "window", "type": "mouseup"}
                ]
              }
            ],
            "update": "{x: param_150_translate_anchor.x - x(unit), y: param_150_translate_anchor.y - y(unit)}"
          }
        ]
      },
      {
        "name": "param_150_zoom_anchor",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "update": "{x: invert(\"concat_0_concat_0_x\", x(unit)), y: invert(\"concat_0_concat_0_y\", y(unit))}"
          }
        ]
      },
      {
        "name": "param_150_zoom_delta",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "force": true,
            "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
          }
        ]
      },
      {
        "name": "param_150_modify",
        "on": [
          {
            "events": {"signal": "param_150_tuple"},
            "update": "modify(\"param_150_store\", param_150_tuple, true)"
          }
        ]
      },
      {
        "name": "param_151_Year",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_151_translate_delta"},
            "update": "panLinear(param_151_translate_anchor.extent_x, -param_151_translate_delta.x / concat_0_childWidth)"
          },
          {
            "events": {"signal": "param_151_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_0_x\"), param_151_zoom_anchor.x, param_151_zoom_delta)"
          }
        ]
      },
      {
        "name": "param_151_Count",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_151_translate_delta"},
            "update": "panLinear(param_151_translate_anchor.extent_y, param_151_translate_delta.y / height)"
          },
          {
            "events": {"signal": "param_151_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_0_y\"), param_151_zoom_anchor.y, param_151_zoom_delta)"
          }
        ],
        "push": "outer"
      },
      {
        "name": "param_151_tuple",
        "on": [
          {
            "events": [{"signal": "param_151_Year || param_151_Count"}],
            "update": "param_151_Year && param_151_Count ? {unit: \"view_103\", fields: param_151_tuple_fields, values: [param_151_Year,param_151_Count]} : null"
          }
        ]
      },
      {
        "name": "param_151_tuple_fields",
        "value": [
          {"field": "Year", "channel": "x", "type": "E"},
          {"field": "Count", "channel": "y", "type": "R"}
        ]
      },
      {
        "name": "param_151_translate_anchor",
        "value": {},
        "on": [
          {
            "events": [{"source": "scope", "type": "mousedown"}],
            "update": "{x: x(unit), y: y(unit), extent_x: domain(\"concat_0_concat_0_x\"), extent_y: domain(\"concat_0_concat_0_y\")}"
          }
        ]
      },
      {
        "name": "param_151_translate_delta",
        "value": {},
        "on": [
          {
            "events": [
              {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {"source": "scope", "type": "mousedown"},
                  {"source": "window", "type": "mouseup"}
                ]
              }
            ],
            "update": "{x: param_151_translate_anchor.x - x(unit), y: param_151_translate_anchor.y - y(unit)}"
          }
        ]
      },
      {
        "name": "param_151_zoom_anchor",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "update": "{x: invert(\"concat_0_concat_0_x\", x(unit)), y: invert(\"concat_0_concat_0_y\", y(unit))}"
          }
        ]
      },
      {
        "name": "param_151_zoom_delta",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "force": true,
            "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
          }
        ]
      },
      {
        "name": "param_151_modify",
        "on": [
          {
            "events": {"signal": "param_151_tuple"},
            "update": "modify(\"param_151_store\", param_151_tuple, true)"
          }
        ]
      }
    ],
    "marks": [
      {
        "name": "view_102_marks",
        "type": "symbol",
        "clip": true,
        "style": ["point"],
        "interactive": true,
        "from": {"data": "data_0"},
        "encode": {
          "update": {
            "opacity": [
              {
                "test": "!length(data(\"param_149_store\")) || vlSelectionTest(\"param_149_store\", datum)",
                "value": 1
              },
              {"value": 0.02}
            ],
            "fill": {"value": "transparent"},
            "stroke": {"scale": "color", "field": "City"},
            "ariaRoleDescription": {"value": "point"},
            "description": {
              "signal": "\"Year: \" + (isValid(datum[\"Year\"]) ? datum[\"Year\"] : \"\"+datum[\"Year\"]) + \"; Count: \" + (format(datum[\"Count\"], \"\")) + \"; City: \" + (isValid(datum[\"City\"]) ? datum[\"City\"] : \"\"+datum[\"City\"])"
            },
            "x": {"scale": "concat_0_concat_0_x", "field": "Year"},
            "y": {"scale": "concat_0_concat_0_y", "field": "Count"}
          }
        }
      },
      {
        "name": "view_103_pathgroup",
        "type": "group",
        "from": {
          "facet": {
            "name": "faceted_path_view_103_main",
            "data": "data-843d5c83a581ea3d063fc478fb048ff6",
            "groupby": ["City"]
          }
        },
        "encode": {
          "update": {
            "width": {"field": {"group": "width"}},
            "height": {"field": {"group": "height"}}
          }
        },
        "marks": [
          {
            "name": "view_103_marks",
            "type": "line",
            "clip": true,
            "style": ["line"],
            "sort": {"field": "datum[\"Year\"]"},
            "interactive": true,
            "from": {"data": "faceted_path_view_103_main"},
            "encode": {
              "update": {
                "strokeDash": {"value": [4, 2]},
                "stroke": {"scale": "color", "field": "City"},
                "opacity": [
                  {
                    "test": "!length(data(\"param_149_store\")) || vlSelectionTest(\"param_149_store\", datum)",
                    "value": 1
                  },
                  {"value": 0.02}
                ],
                "description": {
                  "signal": "\"Year: \" + (isValid(datum[\"Year\"]) ? datum[\"Year\"] : \"\"+datum[\"Year\"]) + \"; Count: \" + (format(datum[\"Count\"], \"\")) + \"; City: \" + (isValid(datum[\"City\"]) ? datum[\"City\"] : \"\"+datum[\"City\"])"
                },
                "x": {"scale": "concat_0_concat_0_x", "field": "Year"},
                "y": {"scale": "concat_0_concat_0_y", "field": "Count"},
                "defined": {
                  "signal": "isValid(datum[\"Count\"]) && isFinite(+datum[\"Count\"])"
                }
              }
            }
          }
        ]
      }
    ],
    "axes": [
      {
        "scale": "concat_0_concat_0_y",
        "orient": "left",
        "gridScale": "concat_0_concat_0_x",
        "grid": true,
        "tickCount": {"signal": "ceil(height/40)"},
        "domain": false,
        "labels": false,
        "aria": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      },
      {
        "scale": "concat_0_concat_0_x",
        "orient": "bottom",
        "grid": false,
        "title": "Year",
        "labelAlign": "right",
        "labelAngle": 270,
        "labelBaseline": "middle",
        "zindex": 0
      },
      {
        "scale": "concat_0_concat_0_y",
        "orient": "left",
        "grid": false,
        "title": "Count",
        "labelOverlap": true,
        "tickCount": {"signal": "ceil(height/40)"},
        "zindex": 0
      }
    ]
  },
  {
    "type": "group",
    "name": "concat_0_concat_1_group",
    "title": {
      "text": "Number of Asian TOP 50 Bars in Cities",
      "frame": "group"
    },
    "style": "cell",
    "encode": {
      "update": {
        "width": {"signal": "concat_0_childWidth"},
        "height": {"signal": "height"}
      }
    },
    "signals": [
      {
        "name": "param_146_tuple",
        "update": "param_146_City_legend !== null ? {fields: param_146_tuple_fields, values: [param_146_City_legend]} : null"
      },
      {
        "name": "param_146_tuple_fields",
        "value": [{"type": "E", "field": "City"}]
      },
      {
        "name": "param_146_toggle",
        "value": false,
        "on": [
          {
            "events": {"merge": [{"source": "view", "type": "click"}]},
            "update": "event.shiftKey"
          }
        ]
      },
      {
        "name": "param_146_modify",
        "on": [
          {
            "events": {"signal": "param_146_tuple"},
            "update": "modify(\"param_146_store\", param_146_toggle ? null : param_146_tuple, param_146_toggle ? null : true, param_146_toggle ? param_146_tuple : null)"
          }
        ]
      },
      {
        "name": "param_147_Year",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_147_translate_delta"},
            "update": "panLinear(param_147_translate_anchor.extent_x, -param_147_translate_delta.x / concat_0_childWidth)"
          },
          {
            "events": {"signal": "param_147_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_1_x\"), param_147_zoom_anchor.x, param_147_zoom_delta)"
          }
        ]
      },
      {
        "name": "param_147_Count",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_147_translate_delta"},
            "update": "panLinear(param_147_translate_anchor.extent_y, param_147_translate_delta.y / height)"
          },
          {
            "events": {"signal": "param_147_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_1_y\"), param_147_zoom_anchor.y, param_147_zoom_delta)"
          }
        ],
        "push": "outer"
      },
      {
        "name": "param_147_tuple",
        "on": [
          {
            "events": [{"signal": "param_147_Year || param_147_Count"}],
            "update": "param_147_Year && param_147_Count ? {unit: \"view_100\", fields: param_147_tuple_fields, values: [param_147_Year,param_147_Count]} : null"
          }
        ]
      },
      {
        "name": "param_147_tuple_fields",
        "value": [
          {"field": "Year", "channel": "x", "type": "E"},
          {"field": "Count", "channel": "y", "type": "R"}
        ]
      },
      {
        "name": "param_147_translate_anchor",
        "value": {},
        "on": [
          {
            "events": [{"source": "scope", "type": "mousedown"}],
            "update": "{x: x(unit), y: y(unit), extent_x: domain(\"concat_0_concat_1_x\"), extent_y: domain(\"concat_0_concat_1_y\")}"
          }
        ]
      },
      {
        "name": "param_147_translate_delta",
        "value": {},
        "on": [
          {
            "events": [
              {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {"source": "scope", "type": "mousedown"},
                  {"source": "window", "type": "mouseup"}
                ]
              }
            ],
            "update": "{x: param_147_translate_anchor.x - x(unit), y: param_147_translate_anchor.y - y(unit)}"
          }
        ]
      },
      {
        "name": "param_147_zoom_anchor",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "update": "{x: invert(\"concat_0_concat_1_x\", x(unit)), y: invert(\"concat_0_concat_1_y\", y(unit))}"
          }
        ]
      },
      {
        "name": "param_147_zoom_delta",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "force": true,
            "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
          }
        ]
      },
      {
        "name": "param_147_modify",
        "on": [
          {
            "events": {"signal": "param_147_tuple"},
            "update": "modify(\"param_147_store\", param_147_tuple, true)"
          }
        ]
      },
      {
        "name": "param_148_Year",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_148_translate_delta"},
            "update": "panLinear(param_148_translate_anchor.extent_x, -param_148_translate_delta.x / concat_0_childWidth)"
          },
          {
            "events": {"signal": "param_148_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_1_x\"), param_148_zoom_anchor.x, param_148_zoom_delta)"
          }
        ]
      },
      {
        "name": "param_148_Count",
        "on": [
          {
            "events": [{"source": "view", "type": "dblclick"}],
            "update": "null"
          },
          {
            "events": {"signal": "param_148_translate_delta"},
            "update": "panLinear(param_148_translate_anchor.extent_y, param_148_translate_delta.y / height)"
          },
          {
            "events": {"signal": "param_148_zoom_delta"},
            "update": "zoomLinear(domain(\"concat_0_concat_1_y\"), param_148_zoom_anchor.y, param_148_zoom_delta)"
          }
        ],
        "push": "outer"
      },
      {
        "name": "param_148_tuple",
        "on": [
          {
            "events": [{"signal": "param_148_Year || param_148_Count"}],
            "update": "param_148_Year && param_148_Count ? {unit: \"view_101\", fields: param_148_tuple_fields, values: [param_148_Year,param_148_Count]} : null"
          }
        ]
      },
      {
        "name": "param_148_tuple_fields",
        "value": [
          {"field": "Year", "channel": "x", "type": "E"},
          {"field": "Count", "channel": "y", "type": "R"}
        ]
      },
      {
        "name": "param_148_translate_anchor",
        "value": {},
        "on": [
          {
            "events": [{"source": "scope", "type": "mousedown"}],
            "update": "{x: x(unit), y: y(unit), extent_x: domain(\"concat_0_concat_1_x\"), extent_y: domain(\"concat_0_concat_1_y\")}"
          }
        ]
      },
      {
        "name": "param_148_translate_delta",
        "value": {},
        "on": [
          {
            "events": [
              {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {"source": "scope", "type": "mousedown"},
                  {"source": "window", "type": "mouseup"}
                ]
              }
            ],
            "update": "{x: param_148_translate_anchor.x - x(unit), y: param_148_translate_anchor.y - y(unit)}"
          }
        ]
      },
      {
        "name": "param_148_zoom_anchor",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "update": "{x: invert(\"concat_0_concat_1_x\", x(unit)), y: invert(\"concat_0_concat_1_y\", y(unit))}"
          }
        ]
      },
      {
        "name": "param_148_zoom_delta",
        "on": [
          {
            "events": [
              {"source": "scope", "type": "wheel", "consume": true}
            ],
            "force": true,
            "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
          }
        ]
      },
      {
        "name": "param_148_modify",
        "on": [
          {
            "events": {"signal": "param_148_tuple"},
            "update": "modify(\"param_148_store\", param_148_tuple, true)"
          }
        ]
      }
    ],
    "marks": [
      {
        "name": "view_100_marks",
        "type": "symbol",
        "clip": true,
        "style": ["point"],
        "interactive": true,
        "from": {"data": "data_1"},
        "encode": {
          "update": {
            "opacity": [
              {
                "test": "!length(data(\"param_146_store\")) || vlSelectionTest(\"param_146_store\", datum)",
                "value": 1
              },
              {"value": 0.02}
            ],
            "fill": {"value": "transparent"},
            "stroke": {"scale": "color", "field": "City"},
            "ariaRoleDescription": {"value": "point"},
            "description": {
              "signal": "\"Year: \" + (isValid(datum[\"Year\"]) ? datum[\"Year\"] : \"\"+datum[\"Year\"]) + \"; Count: \" + (format(datum[\"Count\"], \"\")) + \"; City: \" + (isValid(datum[\"City\"]) ? datum[\"City\"] : \"\"+datum[\"City\"])"
            },
            "x": {"scale": "concat_0_concat_1_x", "field": "Year"},
            "y": {"scale": "concat_0_concat_1_y", "field": "Count"}
          }
        }
      },
      {
        "name": "view_101_pathgroup",
        "type": "group",
        "from": {
          "facet": {
            "name": "faceted_path_view_101_main",
            "data": "data-35de061fef48e48659c9e80aa9373f3b",
            "groupby": ["City"]
          }
        },
        "encode": {
          "update": {
            "width": {"field": {"group": "width"}},
            "height": {"field": {"group": "height"}}
          }
        },
        "marks": [
          {
            "name": "view_101_marks",
            "type": "line",
            "clip": true,
            "style": ["line"],
            "sort": {"field": "datum[\"Year\"]"},
            "interactive": true,
            "from": {"data": "faceted_path_view_101_main"},
            "encode": {
              "update": {
                "strokeDash": {"value": [4, 2]},
                "stroke": {"scale": "color", "field": "City"},
                "opacity": [
                  {
                    "test": "!length(data(\"param_146_store\")) || vlSelectionTest(\"param_146_store\", datum)",
                    "value": 1
                  },
                  {"value": 0.02}
                ],
                "description": {
                  "signal": "\"Year: \" + (isValid(datum[\"Year\"]) ? datum[\"Year\"] : \"\"+datum[\"Year\"]) + \"; Count: \" + (format(datum[\"Count\"], \"\")) + \"; City: \" + (isValid(datum[\"City\"]) ? datum[\"City\"] : \"\"+datum[\"City\"])"
                },
                "x": {"scale": "concat_0_concat_1_x", "field": "Year"},
                "y": {"scale": "concat_0_concat_1_y", "field": "Count"},
                "defined": {
                  "signal": "isValid(datum[\"Count\"]) && isFinite(+datum[\"Count\"])"
                }
              }
            }
          }
        ]
      }
    ],
    "axes": [
      {
        "scale": "concat_0_concat_1_y",
        "orient": "left",
        "gridScale": "concat_0_concat_1_x",
        "grid": true,
        "tickCount": {"signal": "ceil(height/40)"},
        "domain": false,
        "labels": false,
        "aria": false,
        "maxExtent": 0,
        "minExtent": 0,
        "ticks": false,
        "zindex": 0
      },
      {
        "scale": "concat_0_concat_1_x",
        "orient": "bottom",
        "grid": false,
        "title": "Year",
        "labelAlign": "right",
        "labelAngle": 270,
        "labelBaseline": "middle",
        "zindex": 0
      },
      {
        "scale": "concat_0_concat_1_y",
        "orient": "left",
        "grid": false,
        "title": "Count",
        "labelOverlap": true,
        "tickCount": {"signal": "ceil(height/40)"},
        "zindex": 0
      }
    ]
  }
]
}
],
"scales": [
{
"name": "color",
"type": "ordinal",
"domain": {
  "fields": [
    {"data": "data_0", "field": "City"},
    {"data": "data-843d5c83a581ea3d063fc478fb048ff6", "field": "City"},
    {"data": "data_1", "field": "City"},
    {"data": "data-35de061fef48e48659c9e80aa9373f3b", "field": "City"}
  ],
  "sort": true
},
"range": {"scheme": "category10"}
},
{
"name": "concat_0_concat_0_x",
"type": "point",
"domain": {
  "fields": [
    {"data": "data_0", "field": "Year"},
    {"data": "data-843d5c83a581ea3d063fc478fb048ff6", "field": "Year"}
  ],
  "sort": true
},
"range": [0, {"signal": "concat_0_childWidth"}],
"padding": 0.5
},
{
"name": "concat_0_concat_0_y",
"type": "linear",
"domain": {
  "fields": [
    {"data": "data_0", "field": "Count"},
    {"data": "data-843d5c83a581ea3d063fc478fb048ff6", "field": "Count"}
  ]
},
"domainRaw": {"signal": "param_151[\"Count\"]"},
"range": [{"signal": "height"}, 0],
"nice": true,
"zero": true
},
{
"name": "concat_0_concat_1_x",
"type": "point",
"domain": {
  "fields": [
    {"data": "data_1", "field": "Year"},
    {"data": "data-35de061fef48e48659c9e80aa9373f3b", "field": "Year"}
  ],
  "sort": true
},
"range": [0, {"signal": "concat_0_childWidth"}],
"padding": 0.5
},
{
"name": "concat_0_concat_1_y",
"type": "linear",
"domain": {
  "fields": [
    {"data": "data_1", "field": "Count"},
    {"data": "data-35de061fef48e48659c9e80aa9373f3b", "field": "Count"}
  ]
},
"domainRaw": {"signal": "param_148[\"Count\"]"},
"range": [{"signal": "height"}, 0],
"nice": true,
"zero": true
}
],
"legends": [
{
"columns": 2,
"symbolLimit": 0,
"stroke": "color",
"symbolType": "circle",
"title": "City",
"encode": {
  "labels": {
    "name": "City_legend_labels",
    "interactive": true,
    "update": {
      "opacity": [
        {
          "test": "(!length(data(\"param_149_store\")) || (param_149[\"City\"] && indexof(param_149[\"City\"], datum.value) >= 0))",
          "value": 1
        },
        {"value": 0.35}
      ]
    }
  },
  "symbols": {
    "name": "City_legend_symbols",
    "interactive": true,
    "update": {
      "fill": {"value": "transparent"},
      "opacity": [
        {
          "test": "(!length(data(\"param_149_store\")) || (param_149[\"City\"] && indexof(param_149[\"City\"], datum.value) >= 0))",
          "value": 1
        },
        {"value": 0.35}
      ]
    }
  },
  "entries": {
    "name": "City_legend_entries",
    "interactive": true,
    "update": {"fill": {"value": "transparent"}}
  }
}
}
],
"config": {
"style": {
"group-title": {"font": "Monospace", "fontSize": 20, "fill": "Black"}
}
}
};
var options = {"renderer": "canvas", "actions": false};
vegaEmbed('#vis', vega_spec, options);
</script>
</div>

<!-- Page 4

      <div class ="intro-3" id="bar_numbers_asia">-->  
        <!--want an h1 and img tag...you can style font etc in the css -->
        <!--img src="gif.gif" alt="House Music" style="width:100%;"-->
<!--
        <div class="intro-text-2">Regional Highlight: Nightlife as Soft Power</div>
        <div class="intro-subtitle_2">Data: Asia's Top 50 Bars by Cities (2017-2023) 
          <br> <br> P.S.: it is interactive!
        </div>
        </div> -->
      
      


<!--Page 5-->  
  <main>
    <!-- The map container, used by Leaflet -->
    <div class="map" id="map"></div>
    
    <!-- The slides container -->
    <section class="slide-section">
  
      <article class="slide" id="title-slide">
        <h2>Where the BEST Bars at?</h2>
        <p>Marked in the map are bars that ranked <b>top 10 in the world (the 2022 list)</b> or <br><b>top 10 in Asia (the 2023 list)</b>. </p>
        <p>Geospatial visualization here helps us to better locate where the best bars are at and highlight noticeable trends or specific bars.</p>
      </article>

      <article class="slide" id="second-slide">
        <h2>World's TOP 10 (2022)</h2>
        <p>The map illustrates where TOP 10 bars of 2022 are located. From the visualization, we can see that most bars are located in transatlantic Western countries. In fact, the worlds top 50 and top 100 lists are also dominated by bars located in mega cities in more economically developed western countries. </p>
        <p>It is not surprising to find such important award being dominated by western developed countries, just like Michelin rating. With the rule of keeping the judges anonymous, it is very hard to unveil the ranking mechanism behind the scene. While there are bars in large Asian cities like Singapore and Hong Kong being included in this ranking game, there is a general lack of international representation and diversity. 
         </p>
      </article>

      <article class="slide" id="third-slide">
        <h2>Asia's Top 10 (2023)</h2>
        <img src="img/COA.jpg" width="250">
        <p><i>COA, currently ranked no. 1 in 2022 Asia's Top 50 Bars List</i></p>
        <p>Similar to the World ranking, the Asian list also mainly contains of bars in more developed areas and mega cities. Those cities also coincides with major tourists destinating cities in the region. </p>
      </article>

      <article class="slide" id="fourth-slide">
        <h2>City's 'Tipsy Soft Power' Highlight: <br> Hong Kong</h2>
        <p>In 2023, 8 out of 50 top ranked Asian bars are located in Hong Kong. While is it unsurprising since Hong Kong has been a city famous for its thriving night life for long, it is still quite impressive to find a large number of high quality bars in the tight space on Hong Kong Island (especially near Central (Lan Kwai Fong) where most bars are at). </p>
        <p>Interestingly, nonetheless, we can find Hong Tourism Board (governmental agency) in the list of official partners. The 2023 award ceremony also took place in Hong Kong. It can be partially inferred that the city is trying to utilize its vibrant nightlife and bars to attract more visitors and market itself. It is the tipsy soft power.</p>
        <p>In the meantime, Rosewood hotel and Four Seasons hotel are both official partners as well. It may or may not be a coincident that Argo in Four Seasons and Darkside in Rosewood made it to Asias Top 10 in 2023. </p>
      </article>

      <article class="slide" id="fifth-slide">
        <h2>Bars as Cultural Expression: <br> Nutmeg & Clove, <i>Singapore</i></h2>
        <img src="img/Nutmeg & Clove Personalities Menu Pg. 1.jpg" width="250" >
        <p><i>Nutmeg & Cloves menubook  it narrates the inspirations behind their specialty drinks.</i></p>
        <p><i>The DNA of this bar is Singapore in essence, its as simple as that, </i> as described on the Asia Top 50 website. Ranked 7 in 2023, Nutmeg & Clove is undoubtedly offering something more than a tasty glass of cocktail  it is the storytelling and cultural inspirations behind that makes it charismatic.<br><br> Their menubook, <i>Singapore Identities</i> , narrates in details the link between their 12 specialty drinks and 12 influential Singaporean celebrities who play definitive role in shaping Singaporean national and cultural identity. </p>
        <p>Nutmeg & Clove is just one case  as we are seeing more bars making bolder cultural expressions through the design of their specialty drinks, food menu, and interior design. Especially in Asian countries where bar culture remains an imported commodity, bars become a hub for fusion of eastern and western culture. And the fact that bars like Nutmeg & Clove are receiving high ranks on the list reveals a tendency that both the judges and ordinary customers are valuing more the stories and cultural expressions behind and beyond drinks.  </p>
      </article>


      <div class="slide-controls">
        <button class="slide-nav-button" id="prev-slide"><</button>
        <button class="slide-nav-button" id="next-slide">></button>
      </div>
    </section>
    <div class="top-bar">
    </div>

  </main>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="js/index.js" type="module"></script>
</body>
</html>
